From 59cf6c6128f67d807de58fae2d7fae2b4909ad68 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Caol=C3=A1n=20McNamara?= <caolanm@redhat.com>
Date: Sat, 27 Jan 2018 19:38:12 +0000
Subject: ofz#5747 short->sal_Int32 like in StgDataStrm

Change-Id: I254c00b1142d7187beabe5d18532efec036de494
Reviewed-on: https://gerrit.libreoffice.org/48757
Tested-by: Jenkins <ci@libreoffice.org>
Reviewed-by: Michael Stahl <mstahl@redhat.com>
---
 sot/source/sdstor/stgstrms.cxx | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

Index: libreoffice-5.1.6~rc2/sot/source/sdstor/stgstrms.cxx
===================================================================
--- libreoffice-5.1.6~rc2.orig/sot/source/sdstor/stgstrms.cxx	2019-01-28 11:53:02.025481688 -0500
+++ libreoffice-5.1.6~rc2/sot/source/sdstor/stgstrms.cxx	2019-01-28 11:53:02.021481676 -0500
@@ -1034,7 +1034,7 @@ sal_Int32 StgSmallStrm::Read( void* pBuf
     // small stream is likely to be < 64 KBytes.
     if( ( m_nPos + n ) > m_nSize )
         n = m_nSize - m_nPos;
-    short nDone = 0;
+    sal_Int32 nDone = 0;
     while( n )
     {
         short nBytes = m_nPageSize - m_nOffset;
@@ -1065,7 +1065,7 @@ sal_Int32 StgSmallStrm::Write( const voi
 {
     // you can safely assume that reads are not huge, since the
     // small stream is likely to be < 64 KBytes.
-    short nDone = 0;
+    sal_Int32 nDone = 0;
     if( ( m_nPos + n ) > m_nSize )
     {
         sal_Int32 nOld = m_nPos;
