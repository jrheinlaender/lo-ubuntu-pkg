--- /dev/null	2011-06-02 14:58:12.448567841 +0000
+++ libreoffice-3.4.0/libreoffice-build/patches/dev300/g1.diff	2011-06-16 22:10:26.000000000 +0000
@@ -0,0 +1,74 @@
+diff --git a/configure.in b/configure.in
+index 3257668..afd36de 100755
+--- configure.in
++++ configure.in
+@@ -1663,8 +1663,13 @@ dnl whether to include symbols into final build.
+ dnl ===================================================================
+ AC_MSG_CHECKING([whether to include symbols])
+ if test -n "$enable_symbols" -a "$enable_symbols" != "no"; then
+-   ENABLE_SYMBOLS="TRUE"
+-   AC_MSG_RESULT([yes])
++   if test "$enable_symbols" = "SMALL" -o "$enable_symbols" = "small"; then
++      ENABLE_SYMBOLS="SMALL"
++      AC_MSG_RESULT([yes, small ones])
++   else
++      ENABLE_SYMBOLS="TRUE"
++      AC_MSG_RESULT([yes])
++   fi
+ else
+    ENABLE_SYMBOLS=
+    AC_MSG_RESULT([no])
+diff --git a/solenv/inc/unxgcc.mk b/solenv/inc/unxgcc.mk
+index c73333f..9338110 100644
+--- solenv/inc/unxgcc.mk
++++ solenv/inc/unxgcc.mk
+@@ -73,7 +73,11 @@
+ CFLAGS+=-fmessage-length=0 -c
+ 
+ # flags to enable build with symbols
++.IF "$(ENABLE_SYMBOLS)" == "SMALL"
++CFLAGSENABLESYMBOLS=-g1
++.ELSE
+ CFLAGSENABLESYMBOLS=-g
++.ENDIF
+ 
+ # flags for the C++ Compiler
+ CFLAGSCC= -pipe $(ARCH_FLAGS)
+@@ -106,7 +106,11 @@ CFLAGSSLOCUIMT=$(PICSWITCH)
+ # Compiler flags for profiling
+ CFLAGSPROF=
+ # Compiler flags for debugging
++.IF "$(ENABLE_SYMBOLS)"=="SMALL"
++CFLAGSDEBUG=-g1
++.ELSE
+ CFLAGSDEBUG=-g
++.ENDIF
+ CFLAGSDBGUTIL=
+ 
+ GCCNUMVERSION_CMD=-dumpversion $(PIPEERROR) $(AWK) -v num=true -f $(SOLARENV)/bin/getcompver.awk
+--- solenv/gbuild/platform/unxgcc.mk.orig       2011-07-05 12:38:23.398653265 +0200
++++ solenv/gbuild/platform/unxgcc.mk    2011-07-05 14:10:50.598728992 +0200
+@@ -217,14 +217,19 @@
+ gb_LinkTarget_CXXFLAGS := $(gb_CXXFLAGS) $(gb_CXXFLAGS_WERROR)
+
+ ifneq ($(gb_DEBUGLEVEL),0)
+-gb_LinkTarget_CXXFLAGS += -finline-limit=0 -fno-inline -fno-default-inline
+-gb_LinkTarget_CFLAGS += -finline-limit=0 -fno-inline -fno-default-inline
+-endif
+-
++gb_LinkTarget_CXXFLAGS += -finline-limit=0 -fno-inline -fno-default-inline -ggdb2
++gb_LinkTarget_CFLAGS += -finline-limit=0 -fno-inline -fno-default-inline -ggdb2
++else
+ ifeq ($(gb_SYMBOL),$(true))
++ifeq ($(ENABLE_SYMBOLS),SMALL)
++gb_LinkTarget_CXXFLAGS += -g1
++gb_LinkTarget_CFLAGS += -g1
++else
+ gb_LinkTarget_CXXFLAGS += -ggdb2
+ gb_LinkTarget_CFLAGS += -ggdb2
+ endif
++endif
++endif
+
+ gb_LinkTarget_INCLUDE := $(filter-out %/stl, $(subst -I. , ,$(SOLARINC)))
+ gb_LinkTarget_INCLUDE_STL := $(filter %/stl, $(subst -I. , ,$(SOLARINC)))
--- libreoffice-3.4.0/libreoffice-build/patches/dev300/apply-old	2011-06-16 22:12:11.000000000 +0000
+++ libreoffice-3.4.0/libreoffice-build/patches/dev300/apply	2011-06-16 22:12:49.000000000 +0000
@@ -250,6 +250,8 @@
 
 # build using -O2 on x86 and sparc according to Debian policy.
 debian-opt.diff
+# ... and reintroduce -g1
+g1.diff
 
 # on debian based systems, we know where our soffice is
 jurt-soffice-location.diff
