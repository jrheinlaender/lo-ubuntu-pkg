diff --git a/configure.ac b/configure.ac
index f06ef8e..91ce612 100644
--- a/configure.ac
+++ b/configure.ac
@@ -12776,6 +12776,9 @@ fi
 
 AC_SUBST(ENABLE_FORMULA_LOGGER)
 
+CDEFAULTOPT=`echo $CFLAGS 2>/dev/null | grep -E -o "\-O[[0-3]]"`
+AC_SUBST(CDEFAULTOPT)
+
 dnl ===================================================================
 dnl Setting up the environment.
 dnl ===================================================================
diff --git a/config_host.mk.in b/config_host.mk.in
--- a/config_host.mk.in
+++ b/config_host.mk.in
@@ -75,6 +75,7 @@ export COM_IS_CLANG=@COM_IS_CLANG@
 export CPPUNIT_CFLAGS=$(gb_SPACE)@CPPUNIT_CFLAGS@
 export CPPUNIT_LIBS=$(gb_SPACE)@CPPUNIT_LIBS@
 export CPUNAME=@CPUNAME@
+export CDEFAULTOPT=@CDEFAULTOPT@
 export CROSS_COMPILING=@CROSS_COMPILING@
 export CURL=@CURL@
 export CURL_CFLAGS=$(gb_SPACE)@CURL_CFLAGS@
diff --git a/configure.ac b/configure.ac
--- a/configure.ac
+++ b/configure.ac
@@ -12787,6 +12787,9 @@ fi
 AC_SUBST(MPL_SUBSET)
 
 
+CDEFAULTOPT=`echo $CFLAGS 2>/dev/null | grep -E -o "\-O[[0-3]]"`
+AC_SUBST(CDEFAULTOPT)
+
 dnl ===================================================================
 dnl Setting up the environment.
 dnl ===================================================================
-- 
2.7.4

