From dad9b57698920b67e01398cb8df6f47945ca35b8 Mon Sep 17 00:00:00 2001
From: Noel Grandin <noel.grandin@collabora.co.uk>
Date: Tue, 15 Jun 2021 10:47:09 +0200
Subject: [PATCH] fix some 32-bit compile errors

Change-Id: I7ce0e71a51709b0ae90b7e509f00f608fffad47d
---
 sc/qa/unit/tiledrendering/tiledrendering.cxx | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

diff --git a/sc/qa/unit/tiledrendering/tiledrendering.cxx b/sc/qa/unit/tiledrendering/tiledrendering.cxx
index 07ebef6086d9..aed61f58a6cf 100644
--- a/sc/qa/unit/tiledrendering/tiledrendering.cxx
+++ b/sc/qa/unit/tiledrendering/tiledrendering.cxx
@@ -460,13 +460,13 @@ struct EditCursorMessage final {
         std::string aVal = aTree.get_child("refpoint").get_value<std::string>();
 
         uno::Sequence<OUString> aSeq = comphelper::string::convertCommaSeparated(OUString::createFromAscii(aVal.c_str()));
-        CPPUNIT_ASSERT_EQUAL(2, aSeq.getLength());
+        CPPUNIT_ASSERT_EQUAL(sal_Int32(2), aSeq.getLength());
         m_aRefPoint.setX(aSeq[0].toInt32());
         m_aRefPoint.setY(aSeq[1].toInt32());
 
         aVal = aTree.get_child("relrect").get_value<std::string>();
         aSeq = comphelper::string::convertCommaSeparated(OUString::createFromAscii(aVal.c_str()));
-        CPPUNIT_ASSERT_EQUAL(4, aSeq.getLength());
+        CPPUNIT_ASSERT_EQUAL(sal_Int32(4), aSeq.getLength());
         m_aRelRect.setX(aSeq[0].toInt32());
         m_aRelRect.setY(aSeq[1].toInt32());
         m_aRelRect.setWidth(aSeq[2].toInt32());
@@ -512,7 +512,7 @@ struct TextSelectionMessage
             std::string("0, 0") :
             aStr.substr(nRefDelimStart + 2, aStr.length() - 2 - nRefDelimStart);
         uno::Sequence<OUString> aSeq = comphelper::string::convertCommaSeparated(OUString::createFromAscii(aRefPointString.c_str()));
-        CPPUNIT_ASSERT_EQUAL(2, aSeq.getLength());
+        CPPUNIT_ASSERT_EQUAL(sal_Int32(2), aSeq.getLength());
         m_aRefPoint.setX(aSeq[0].toInt32());
         m_aRefPoint.setY(aSeq[1].toInt32());
 
@@ -525,7 +525,7 @@ struct TextSelectionMessage
             std::string aRectString = aRectListString.substr(nStart, nEnd - nStart);
             {
                 aSeq = comphelper::string::convertCommaSeparated(OUString::createFromAscii(aRectString.c_str()));
-                CPPUNIT_ASSERT_EQUAL(4, aSeq.getLength());
+                CPPUNIT_ASSERT_EQUAL(sal_Int32(4), aSeq.getLength());
                 tools::Rectangle aRect;
                 aRect.setX(aSeq[0].toInt32());
                 aRect.setY(aSeq[1].toInt32());
@@ -818,7 +818,7 @@ void ScTiledRenderingTest::testViewLock()
     CPPUNIT_ASSERT(!aView1.m_bViewLock);
 }
 
-void lcl_extractHandleParameters(const OString& selection, int& id, int& x, int& y)
+void lcl_extractHandleParameters(const OString& selection, sal_uInt32& id, sal_uInt32& x, sal_uInt32& y)
 {
     OString extraInfo = selection.copy(selection.indexOf("{"));
     std::stringstream aStream(extraInfo.getStr());
@@ -847,10 +847,10 @@ void ScTiledRenderingTest::testMoveShapeHandle()
 
     CPPUNIT_ASSERT(!aView1.m_ShapeSelection.isEmpty());
     {
-        int id, x, y;
+        sal_uInt32 id, x, y;
         lcl_extractHandleParameters(aView1.m_ShapeSelection, id, x ,y);
-        int oldX = x;
-        int oldY = y;
+        sal_uInt32 oldX = x;
+        sal_uInt32 oldY = y;
         uno::Sequence<beans::PropertyValue> aPropertyValues(comphelper::InitPropertySequence(
         {
             {"HandleNum", uno::makeAny(id)},
-- 
2.30.2

From 9325f2a9ca5eeefbd10c1ceac8673f47a14f719e Mon Sep 17 00:00:00 2001
From: Rene Engelhard <rene@debian.org>
Date: Fri, 18 Jun 2021 06:14:09 +0200
Subject: [PATCH] more 32bit build fixes

Change-Id: I5906ef714a482afffe40e59e90fd709fe857d3ff
---
 sd/qa/unit/tiledrendering/tiledrendering.cxx   | 8 ++++----
 sw/qa/extras/tiledrendering/tiledrendering.cxx | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/sd/qa/unit/tiledrendering/tiledrendering.cxx b/sd/qa/unit/tiledrendering/tiledrendering.cxx
index 02f1968a8232..02856dd0043e 100644
--- a/sd/qa/unit/tiledrendering/tiledrendering.cxx
+++ b/sd/qa/unit/tiledrendering/tiledrendering.cxx
@@ -2627,7 +2627,7 @@ void SdTiledRenderingTest::testSlideDuplicateUndo()
 namespace
 {
 
-void lcl_extractHandleParameters(const OString& selection, int& id, int& x, int& y)
+void lcl_extractHandleParameters(const OString& selection, sal_uInt32& id, sal_uInt32& x, sal_uInt32& y)
 {
     OString extraInfo = selection.copy(selection.indexOf("{"));
     std::stringstream aStream(extraInfo.getStr());
@@ -2660,10 +2660,10 @@ void SdTiledRenderingTest::testMoveShapeHandle()
 
     CPPUNIT_ASSERT(!aView1.m_ShapeSelection.isEmpty());
     {
-        int id, x, y;
+        sal_uInt32 id, x, y;
         lcl_extractHandleParameters(aView1.m_ShapeSelection, id, x ,y);
-        int oldX = x;
-        int oldY = y;
+        sal_uInt32 oldX = x;
+        sal_uInt32 oldY = y;
         uno::Sequence<beans::PropertyValue> aPropertyValues(comphelper::InitPropertySequence(
         {
             {"HandleNum", uno::makeAny(id)},
diff --git a/sw/qa/extras/tiledrendering/tiledrendering.cxx b/sw/qa/extras/tiledrendering/tiledrendering.cxx
index b991f06b3c0a..54f4ecc7b9a9 100644
--- a/sw/qa/extras/tiledrendering/tiledrendering.cxx
+++ b/sw/qa/extras/tiledrendering/tiledrendering.cxx
@@ -2860,7 +2860,7 @@ void SwTiledRenderingTest::testDropDownFormFieldButtonNoSelection()
     }
 }
 
-static void lcl_extractHandleParameters(const OString& selection, int& id, int& x, int& y)
+static void lcl_extractHandleParameters(const OString& selection, sal_Int32& id, sal_Int32& x, sal_Int32& y)
 {
     OString extraInfo = selection.copy(selection.indexOf("{"));
     std::stringstream aStream(extraInfo.getStr());
@@ -2892,10 +2892,10 @@ void SwTiledRenderingTest::testMoveShapeHandle()
 
     CPPUNIT_ASSERT(!m_ShapeSelection.isEmpty());
     {
-        int id, x, y;
+        sal_Int32 id, x, y;
         lcl_extractHandleParameters(m_ShapeSelection, id, x ,y);
-        int oldX = x;
-        int oldY = y;
+        sal_Int32 oldX = x;
+        sal_Int32 oldY = y;
         uno::Sequence<beans::PropertyValue> aPropertyValues(comphelper::InitPropertySequence(
         {
             {"HandleNum", uno::makeAny(id)},
-- 
2.30.2

