From 86dc8e1f6273354eaf663299a028d896ad88cc9b Mon Sep 17 00:00:00 2001
From: Noel Grandin <noel.grandin@collabora.co.uk>
Date: Tue, 15 Jun 2021 09:27:28 +0200
Subject: fix big-endian code
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

after the transparency->alpha changes in ::Color

Change-Id: Ifbac6c8f37f18e8acaef0602ef414ae39449ad3c
Reviewed-on: https://gerrit.libreoffice.org/c/core/+/117209
Tested-by: Ren√© Engelhard <rene@debian.org>
Reviewed-by: Noel Grandin <noel.grandin@collabora.co.uk>
---
 canvas/source/tools/canvastools.cxx | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/canvas/source/tools/canvastools.cxx b/canvas/source/tools/canvastools.cxx
index 53ab7e71f0c5..02af4bb333db 100644
--- a/canvas/source/tools/canvastools.cxx
+++ b/canvas/source/tools/canvastools.cxx
@@ -895,7 +895,7 @@ namespace canvas::tools
             pCols[0] = rColor.GetRed();
             pCols[1] = rColor.GetGreen();
             pCols[2] = rColor.GetBlue();
-            pCols[3] = 255-rColor.GetTransparency();
+            pCols[3] = rColor.GetAlpha();
 #else
             *reinterpret_cast<sal_Int32*>(pCols) = sal_Int32(rColor);
 #endif
-- 
cgit v1.2.1

