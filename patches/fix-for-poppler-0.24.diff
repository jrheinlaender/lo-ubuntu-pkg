From 26f3411018c412f9173f1278fe9749b884e3d3b1 Mon Sep 17 00:00:00 2001
From: Bjoern Michaelsen <bjoern.michaelsen@canonical.com>
Date: Wed, 31 Jul 2013 14:55:24 +0200
Subject: [PATCH] fix for poppler >0.23

Change-Id: I89a3edce2d84855299d91a5a7142e40002258dcf
---
 sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx | 6 +++++-
 sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.hxx | 6 +++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

Index: libreoffice-4.1.4~rc2/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx
===================================================================
--- libreoffice-4.1.4~rc2.orig/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx	2013-12-16 14:35:35.246933719 +0100
+++ libreoffice-4.1.4~rc2/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.cxx	2013-12-16 14:35:35.238933720 +0100
@@ -492,7 +492,7 @@
 }
 
 void PDFOutDev::startPage(int /*pageNum*/, GfxState* state
-#if POPPLER_CHECK_VERSION(0, 23, 0)
+#if POPPLER_CHECK_VERSION(0, 23, 0) ||  POPPLER_CHECK_VERSION(0, 24, 0)
                           , XRef* /*xref*/
 #endif
 )
Index: libreoffice-4.1.4~rc2/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.hxx
===================================================================
--- libreoffice-4.1.4~rc2.orig/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.hxx	2013-12-16 14:35:35.246933719 +0100
+++ libreoffice-4.1.4~rc2/sdext/source/pdfimport/xpdfwrapper/pdfioutdev_gpl.hxx	2013-12-16 14:35:35.238933720 +0100
@@ -179,7 +179,7 @@
 
         // Start a page.
         virtual void startPage(int pageNum, GfxState *state
-#if POPPLER_CHECK_VERSION(0, 23, 0)
+#if POPPLER_CHECK_VERSION(0, 23, 0) || POPPLER_CHECK_VERSION(0, 24, 0)
                                , XRef *xref
 #endif
         ) SAL_OVERRIDE;
