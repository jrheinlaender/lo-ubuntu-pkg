Index: libreoffice-4.1.4~rc2/scp2/source/base/module_base.scp
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/source/base/module_base.scp	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/source/base/module_base.scp	2013-12-16 14:35:15.942934745 +0100
@@ -18,6 +18,8 @@
 
 #include "macros.inc"
 
+#include "AutoInstallLibs/base"
+
 Module gid_Module_Prg_Base
     MOD_NAME_DESC(MODULE_PRG_BASE);
     ParentID = gid_Module_Prg;
@@ -38,6 +40,14 @@
         ,gid_File_Lib_Abp
         ,gid_File_Lib_Dbp
         ,gid_File_Lib_Dbu
+        ,auto_Base_Lib_ALL
+        ,gid_File_Lib_Dbpool
+        ,gid_File_Lib_Sdbc_2
+#ifdef SOLAR_JAVA
+        ,gid_File_Lib_Jdbc
+        ,gid_File_Lib_Hsqldb_2
+#endif
+        ,gid_File_Lib_Calc
     );
 End
 
Index: libreoffice-4.1.4~rc2/scp2/source/calc/module_calc.scp
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/source/calc/module_calc.scp	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/source/calc/module_calc.scp	2013-12-16 14:35:15.942934745 +0100
@@ -33,7 +33,7 @@
     Minimal = YES;
     Default = YES;
     Styles = (HIDDEN_ROOT);
-    Files = (gid_File_Share_Registry_Calc_Xcd,gid_File_Lib_Calc,gid_File_Lib_Sc,gid_File_Lib_Scui,gid_File_Lib_Scfilt,gid_File_Lib_Scd,gid_File_Extra_Urldesktop_Calc,gid_File_Extra_Urlnew_Calc,gid_File_Extra_Urlstart_Calc,gid_File_Extra_Urltasks_Calc,gid_File_Oo_Office_Filter_Calc_Pkg,
+    Files = (gid_File_Share_Registry_Calc_Xcd,gid_File_Lib_Sc,gid_File_Lib_Scui,gid_File_Lib_Scfilt,gid_File_Lib_Scd,gid_File_Extra_Urldesktop_Calc,gid_File_Extra_Urlnew_Calc,gid_File_Extra_Urlstart_Calc,gid_File_Extra_Urltasks_Calc,gid_File_Oo_Office_Filter_Calc_Pkg,
     gid_File_Lib_Solver,gid_File_Lib_Lpsolve,
     gid_File_Lib_Vbaobj,
     gid_File_Tmp_Userinstall_Calc_Inf);
Index: libreoffice-4.1.4~rc2/scp2/source/draw/module_draw.scp
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/source/draw/module_draw.scp	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/source/draw/module_draw.scp	2013-12-16 14:35:15.942934745 +0100
@@ -18,6 +18,8 @@
 
 #include "macros.inc"
 
+#include "AutoInstallLibs/draw"
+
 Module gid_Module_Prg_Draw
     MOD_NAME_DESC ( MODULE_PRG_DRAW );
     ParentID = gid_Module_Prg;
@@ -34,6 +36,7 @@
     Default = YES;
     Styles = (HIDDEN_ROOT);
     Files = (gid_File_Extra_Urldesktop_Draw,gid_File_Extra_Urlnew_Draw,gid_File_Extra_Urlstart_Draw,gid_File_Extra_Urltasks_Draw,
+    auto_Draw_Lib_ALL,
     gid_File_Share_Registry_Draw_Xcd,
     gid_File_Tmp_Userinstall_Draw_Inf);
 End
Index: libreoffice-4.1.4~rc2/scp2/source/impress/module_impress.scp
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/source/impress/module_impress.scp	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/source/impress/module_impress.scp	2013-12-16 14:35:15.942934745 +0100
@@ -18,6 +18,8 @@
 
 #include "macros.inc"
 
+#include "AutoInstallLibs/impress"
+
 Module gid_Module_Prg_Impress
     MOD_NAME_DESC ( MODULE_PRG_IMPRESS );
     ParentID = gid_Module_Prg;
@@ -34,6 +36,7 @@
     Default = YES;
     Styles = (HIDDEN_ROOT);
     Files = (gid_File_Extra_Urldesktop_Impress,gid_File_Extra_Urlnew_Impress,gid_File_Extra_Urlstart_Impress,gid_File_Extra_Urltasks_Impress,gid_File_Lib_Placeware,
+    auto_Impress_Lib_ALL,
     gid_File_Lib_PresenterScreen,
     gid_File_Share_Registry_Impress_Xcd,
     gid_File_Lib_Animcore,
Index: libreoffice-4.1.4~rc2/scp2/source/kde/module_kde.scp
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/source/kde/module_kde.scp	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/source/kde/module_kde.scp	2013-12-16 14:35:15.942934745 +0100
@@ -26,5 +26,12 @@
     PackageInfo = "packinfo_office.txt";
     MOD_NAME_DESC(MODULE_OPTIONAL_KDE);
     Styles = ();
-    Files = (auto_Kde_Lib_ALL);
+    Files = (auto_Kde_Lib_ALL,
+#ifdef ENABLE_KDE
+    gid_File_Lib_Vclplug_Kde
+#endif
+#ifdef ENABLE_KDE4
+    gid_File_Lib_Vclplug_Kde4
+#endif
+    );
 End
Index: libreoffice-4.1.4~rc2/scp2/source/ooo/module_hidden_ooo.scp
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/source/ooo/module_hidden_ooo.scp	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/source/ooo/module_hidden_ooo.scp	2013-12-16 14:35:15.942934745 +0100
@@ -158,8 +158,6 @@
 	gid_File_Lib_BaseBmp,
 	gid_File_Lib_Zip,
 	gid_File_Lib_Vclplug_Tde,
-	gid_File_Lib_Vclplug_Kde,
-	gid_File_Lib_Vclplug_Kde4,
 	gid_File_Lib_Vclplug_Svp);
 End
 
@@ -189,7 +187,6 @@
 #endif
 	gid_File_Lib_Curl,
 	gid_Unixlink_File_Lib_Curl,
-	gid_File_Lib_Dbpool,
 	gid_File_Lib_Embobj,
 	gid_File_Lib_Emboleobj,
 	gid_File_Lib_Macab_1,
Index: libreoffice-4.1.4~rc2/Repository.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/Repository.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/Repository.mk	2013-12-16 14:35:15.942934745 +0100
@@ -251,11 +251,8 @@
     configmgr \
     ctl \
     cui \
-    dba \
-    dbase \
     dbmm \
     $(if $(DISABLE_DBCONNECTIVITY),,dbtools) \
-    dbaxml \
     deploymentmisc \
     $(if $(filter-out MACOSX WNT,$(OS)),desktopbe1) \
     $(if $(filter unx,$(GUIBASE)),desktop_detector) \
@@ -273,7 +270,6 @@
     eti \
     evtatt \
     exp \
-    flat \
 	file \
 	filterconfig \
     for \
@@ -309,9 +305,6 @@
     lnth \
     $(if $(MERGELIBS),merged) \
     msfilter \
-    mysql \
-    odbc \
-    odbcbase \
     odfflatxml \
     offacc \
     pcr \
@@ -321,10 +314,6 @@
     sb \
     sdbt \
     scn \
-    sd \
-    sdd \
-    sdfilt \
-    sdui \
     sfx \
     sot \
     $(if $(ENABLE_HEADLESS),,spl) \
@@ -333,7 +322,6 @@
     svt \
     svx \
     svxcore \
-    sw \
     $(if $(ENABLE_TDEAB),tdeab1) \
     $(if $(ENABLE_TDEAB),tdeabdrv1) \
     textconversiondlgs \
@@ -356,10 +344,32 @@
     xsltfilter \
 ))
 
+$(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,BASE, \
+    dba \
+    dbase \
+    dbaxml \
+    flat \
+    mysql \
+    odbc \
+    odbcbase \
+))
+
+$(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,DRAW, \
+   sd \
+   sdd \
+   sdfilt \
+   sdui \
+))
+
+$(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,IMPRESS, \
+   slideshow \
+))
+
 $(eval $(call gb_Helper_register_libraries_for_install,OOOLIBS,WRITER, \
 	hwp \
 	$(if $(ENABLE_LWP),lwpft) \
 	msword \
+        sw \
 	swd \
 	swui \
 	t602filter \
@@ -624,7 +634,6 @@
     postgresql-sdbc-impl \
     pythonloader \
     simplecanvas \
-    slideshow \
     stringresource \
     syssh \
     ucpcmis1 \
Index: libreoffice-4.1.4~rc2/scp2/InstallModule_base.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/InstallModule_base.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/InstallModule_base.mk	2013-12-16 14:35:15.942934745 +0100
@@ -9,6 +9,8 @@
 
 $(eval $(call gb_InstallModule_InstallModule,scp2/base))
 
+$(eval $(call gb_InstallModule_use_auto_install_libs,scp2/base,base))
+
 # Not sure about that?
 #$(eval $(call gb_InstallModule_define_if_set,scp2/base,\
 #	ENABLE_REPORTBUILDER \
Index: libreoffice-4.1.4~rc2/scp2/InstallModule_draw.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/InstallModule_draw.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/InstallModule_draw.mk	2013-12-16 14:35:15.942934745 +0100
@@ -9,6 +9,8 @@
 
 $(eval $(call gb_InstallModule_InstallModule,scp2/draw))
 
+$(eval $(call gb_InstallModule_use_auto_install_libs,scp2/draw,draw))
+
 $(eval $(call gb_InstallModule_add_templates,scp2/draw,\
     scp2/source/templates/module_langpack_draw \
 ))
Index: libreoffice-4.1.4~rc2/scp2/InstallModule_impress.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/InstallModule_impress.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/InstallModule_impress.mk	2013-12-16 14:35:15.942934745 +0100
@@ -9,6 +9,8 @@
 
 $(eval $(call gb_InstallModule_InstallModule,scp2/impress))
 
+$(eval $(call gb_InstallModule_use_auto_install_libs,scp2/impress,impress))
+
 $(eval $(call gb_InstallModule_define_if_set,scp2/impress,\
 	ENABLE_OPENGL \
 ))
Index: libreoffice-4.1.4~rc2/scp2/InstallModule_kde.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/InstallModule_kde.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/InstallModule_kde.mk	2013-12-16 14:35:15.946934745 +0100
@@ -11,6 +11,12 @@
 
 $(eval $(call gb_InstallModule_use_auto_install_libs,scp2/kde,kde))
 
+$(eval $(call gb_InstallModule_define_if_set,scp2/kde,\
+        ENABLE_KAB \
+        ENABLE_KDE \
+        ENABLE_KDE4 \
+))
+
 $(eval $(call gb_InstallModule_add_localized_scpfiles,scp2/kde,\
     scp2/source/kde/module_kde \
 ))
Index: libreoffice-4.1.4~rc2/solenv/gbuild/Helper.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/solenv/gbuild/Helper.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/solenv/gbuild/Helper.mk	2013-12-16 14:35:15.946934745 +0100
@@ -109,7 +109,7 @@
 define gb_Helper_init_registries
 gb_Executable_VALIDGROUPS := UREBIN SDK OOO NONE
 gb_Library_VALIDGROUPS := OOOLIBS PLAINLIBS_NONE PLAINLIBS_URE PLAINLIBS_OOO PRIVATELIBS_URE RTVERLIBS UNOLIBS_URE UNOVERLIBS EXTENSIONLIBS
-gb_Library_VALIDINSTALLMODULES := GRAPHICFILTER GNOME TDE KDE OOO URE WRITER
+gb_Library_VALIDINSTALLMODULES := GRAPHICFILTER GNOME TDE KDE OOO URE WRITER BASE DRAW IMPRESS
 gb_StaticLibrary_VALIDGROUPS := PLAINLIBS
 gb_Jar_VALIDGROUPS := URE OOO OXT NONE
 
Index: libreoffice-4.1.4~rc2/scp2/AutoInstallLibs_base.mk
===================================================================
--- /dev/null	1970-01-01 00:00:00.000000000 +0000
+++ libreoffice-4.1.4~rc2/scp2/AutoInstallLibs_base.mk	2013-12-16 14:35:15.946934745 +0100
@@ -0,0 +1,12 @@
+# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t -*-
+#
+# This file is part of the LibreOffice project.
+#
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+
+$(eval $(call gb_AutoInstallLibs_AutoInstallLibs,base,BASE,LIBO_LIB_FILE,auto_Base_Lib))
+
+# vim: set noet sw=4 ts=4:
Index: libreoffice-4.1.4~rc2/scp2/AutoInstallLibs_draw.mk
===================================================================
--- /dev/null	1970-01-01 00:00:00.000000000 +0000
+++ libreoffice-4.1.4~rc2/scp2/AutoInstallLibs_draw.mk	2013-12-16 14:35:15.946934745 +0100
@@ -0,0 +1,12 @@
+# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t -*-
+#
+# This file is part of the LibreOffice project.
+#
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+
+$(eval $(call gb_AutoInstallLibs_AutoInstallLibs,draw,DRAW,LIBO_LIB_FILE,auto_Draw_Lib))
+
+# vim: set noet sw=4 ts=4:
Index: libreoffice-4.1.4~rc2/scp2/AutoInstallLibs_impress.mk
===================================================================
--- /dev/null	1970-01-01 00:00:00.000000000 +0000
+++ libreoffice-4.1.4~rc2/scp2/AutoInstallLibs_impress.mk	2013-12-16 14:35:15.946934745 +0100
@@ -0,0 +1,12 @@
+# -*- Mode: makefile-gmake; tab-width: 4; indent-tabs-mode: t -*-
+#
+# This file is part of the LibreOffice project.
+#
+# This Source Code Form is subject to the terms of the Mozilla Public
+# License, v. 2.0. If a copy of the MPL was not distributed with this
+# file, You can obtain one at http://mozilla.org/MPL/2.0/.
+#
+
+$(eval $(call gb_AutoInstallLibs_AutoInstallLibs,impress,IMPRESS,LIBO_LIB_FILE,auto_Impress_Lib))
+
+# vim: set noet sw=4 ts=4:
Index: libreoffice-4.1.4~rc2/scp2/Module_scp2.mk
===================================================================
--- libreoffice-4.1.4~rc2.orig/scp2/Module_scp2.mk	2013-12-16 14:35:15.950934745 +0100
+++ libreoffice-4.1.4~rc2/scp2/Module_scp2.mk	2013-12-16 14:35:15.946934745 +0100
@@ -16,6 +16,9 @@
 	AutoInstallLibs_kde \
 	AutoInstallLibs_ooo \
 	AutoInstallLibs_ure \
+        AutoInstallLibs_base \
+        AutoInstallLibs_draw \
+        AutoInstallLibs_impress \
 	AutoInstallLibs_writer \
 	CustomTarget_langmacros \
 	InstallModule_accessories \
