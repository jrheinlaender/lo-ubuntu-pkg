Index: libreoffice-3.4.0/libreoffice-build/patches/dev300/prevent-oosplash-smoketest-hangs.diff
===================================================================
--- /dev/null	1970-01-01 00:00:00.000000000 +0000
+++ libreoffice-3.4.0/libreoffice-build/patches/dev300/prevent-oosplash-smoketest-hangs.diff	2011-06-28 16:22:50.352707029 +0200
@@ -0,0 +1,21 @@
+From c414bb1dc75b3db4fa88874ff5f978e6a0d18d56 Mon Sep 17 00:00:00 2001
+From: Bjoern Michaelsen <bjoern.michaelsen@canonical.com>
+Date: Tue, 31 May 2011 12:58:48 +0000
+Subject: use --nologo to prevent oosplash smoketest hangs
+
+---
+diff --git a/test/source/cpp/officeconnection.cxx b/test/source/cpp/officeconnection.cxx
+index 9bdddca..9225411 100644
+--- test/source/cpp/officeconnection.cxx
++++ test/source/cpp/officeconnection.cxx
+@@ -76,7 +76,7 @@ void OfficeConnection::setUp() {
+             RTL_CONSTASCII_USTRINGPARAM("--nofirststartwizard"));
+         rtl::OUString norestoreArg(RTL_CONSTASCII_USTRINGPARAM("--norestore"));
+         //Disable use of the unix standalone splash screen app for the tests
+-        rtl::OUString noSplashArg(RTL_CONSTASCII_USTRINGPARAM("--no-oosplash"));
++        rtl::OUString noSplashArg(RTL_CONSTASCII_USTRINGPARAM("--nologo"));
+         rtl::OUString acceptArg(
+             rtl::OUString(RTL_CONSTASCII_USTRINGPARAM("--accept=")) + desc +
+             rtl::OUString(RTL_CONSTASCII_USTRINGPARAM(";urp")));
+--
+cgit v0.8.3-6-g21f6
Index: libreoffice-3.4.0/libreoffice-build/patches/dev300/apply
===================================================================
--- libreoffice-3.4.0.orig/libreoffice-build/patches/dev300/apply	2011-06-28 16:22:41.912707029 +0200
+++ libreoffice-3.4.0/libreoffice-build/patches/dev300/apply	2011-06-28 16:22:50.352707029 +0200
@@ -356,6 +356,7 @@
 #autodoc-add-missing-stdio-h.diff, rengelha
 
 fix-connectivity-tests-with-system-hsqldb.diff
+prevent-oosplash-smoketest-hangs.diff
 
 [ DebianOnly ]
 open-url-support-iceanimals.diff
