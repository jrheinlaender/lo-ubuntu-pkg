From 4176da21609e8760a34c63d9ff152e82e7d99dc9 Mon Sep 17 00:00:00 2001
From: Mike Kaganski <mike.kaganski@collabora.com>
Date: Sun, 14 Feb 2021 11:24:42 +0100
Subject: [PATCH] nullptr dereference

Change-Id: I6a2ffddfd67784ddc2194dafba7d3eaeb6e4e12e
Reviewed-on: https://gerrit.libreoffice.org/c/core/+/110854
Tested-by: Jenkins
Reviewed-by: Mike Kaganski <mike.kaganski@collabora.com>
---
 sc/source/ui/app/seltrans.cxx | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/sc/source/ui/app/seltrans.cxx b/sc/source/ui/app/seltrans.cxx
index 3a1c2128d560..5f0860de12a0 100644
--- a/sc/source/ui/app/seltrans.cxx
+++ b/sc/source/ui/app/seltrans.cxx
@@ -148,7 +148,7 @@ ScSelectionTransferObj::ScSelectionTransferObj( ScTabView* pSource, ScSelectionT
 ScSelectionTransferObj::~ScSelectionTransferObj()
 {
     ScModule* pScMod = SC_MOD();
-    if ( pScMod->GetSelectionTransfer() == this )
+    if (pScMod && pScMod->GetSelectionTransfer() == this)
     {
         //  this is reached when the object wasn't really copied to the selection
         //  (CopyToSelection has no effect under Windows)
-- 
2.30.1

